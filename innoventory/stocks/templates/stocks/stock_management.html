{% extends 'products/base.html' %}
{% load humanize %}

{% block title %}Stock Management{% endblock %}

{% block content %}
<div class="container mt-3">
    <div style="background-color: #f8f9fa; padding: 15px; border-radius: 8px; margin-bottom: 20px;">
        <!-- Optional filters/search can go here -->
    </div>
    <h3> Recent Activity </h3>
    <table class="table table-striped table-hover">
        <thead>
            <tr>
                <th>Type</th>
                <th>Product</th>
                <th>Qty</th>
                <th>Date</th>
                <th>Remarks</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
            {% for stock in stocks %}
                <tr data-stock-id="{{ stock.stock_id }}">
                    <td>{{ stock.get_type_display }}</td>
                    <td>{{ stock.product.name }}</td>
                    <td>{{ stock.qty }}</td>
                    <td>{{ stock.date|date:"n/j/Y" }}</td>
                    <td>{{ stock.remarks }}</td>
                    <td>

                    <button class="btn btn-primary btn-sm edit-btn" title="Edit stock entry">
                        ✎
                    </button>

                    <button class="btn btn-danger btn-sm delete-btn" title="Delete stock entry">
                        ×
                    </button>

                    </td>
                </tr>
            {% empty %}
                <tr>
                    <td colspan="7">No stock entries found.</td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
</div>

<div id="modal-container"></div>
{% endblock %}
